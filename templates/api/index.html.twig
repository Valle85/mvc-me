{% extends "base.html.twig" %}

{% block main %}
    <h1>API-översikt</h1>
    <p>JSON-API-routes som finns för kortleken:</p>
    <ul>
        <li><a href="{{ path('api_deck') }}">/api/deck</a> – Returnerar hela kortleken sorterad.</li>
        <li>/api/deck/shuffle – Blandar kortleken (POST).</li>
        <li>/api/deck/draw – Drar ett kort från leken samt visar antal kvar (POST).</li>
        <li>/api/deck/draw/:number – Drar :number kort samt visar antal kvar (POST).</li>
    </ul>

    <h2>Testa POST-routes</h2>

    <form method="post" action="{{ path('api_deck_shuffle') }}">
        <button type="submit">POST /api/deck/shuffle</button>
    </form>
    <form method="post" action="{{ path('api_deck_draw') }}">
        <button type="submit">POST /api/deck/draw (dra 1 kort)</button>
    </form>
    <form method="post" action="{{ path('api_deck_draw_number', {'number': 3}) }}">
        <label>
            Dra antal kort:
            <input type="number" name="number" value="3" min="1" max="52"
                oninput="this.form.action='/api/deck/draw/' + this.value;">
        </label>
        <button type="submit">POST /api/deck/draw/:number</button>
    </form>

    <h2>Övriga JSON-API:er</h2>
    <ul>
        <li><a href="{{ path('api_lucky') }}">/api/lucky/number</a> – Returnerar ett lyckotal i JSON-format.</li>
        <li><a href="{{ path('api_quote') }}">/api/quote</a> – Returnerar ett citat i JSON-format.</li>
        <li><a href="{{ path('api_game_status') }}">/api/game</a> – Visar aktuell ställning i spelet 21 i JSON-format.</li>
    </ul>

    <p><a href="{{ path('card_home') }}">Tillbaka till kortmeny</a></p>
{% endblock %}
